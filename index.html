<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>–° –î–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è ‚ú®</title>

<style>
*{box-sizing:border-box}

html,body{
  margin:0;
  padding:0;
  min-height:100%;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:#090a0f;
  color:#fff;
  overflow-x:hidden;
}

body{padding-top:env(safe-area-inset-top)}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top,#1b2735,#090a0f 70%);
  z-index:-2;
}

/* ---------- LAYOUT ---------- */

section{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:40px 20px;
  text-align:center;
  position:relative;
}

.content{max-width:520px;z-index:1}

/* ---------- TEXT ---------- */

h1,h2{
  display:inline-block;
  padding:14px 26px;
  border-radius:18px;
  margin-bottom:18px;
  background:linear-gradient(135deg,rgba(255,255,255,.22),rgba(255,255,255,.06));
  backdrop-filter:blur(10px);
  box-shadow:0 0 25px rgba(120,180,255,.35),0 12px 30px rgba(0,0,0,.45);
}

h1{font-size:2.3rem}
h2{font-size:1.7rem}

p{
  font-size:1.15rem;
  line-height:1.6;
  opacity:.92;
}

/* ---------- REVEAL ---------- */

.reveal{
  opacity:0;
  transform:translateY(60px);
  transition:opacity .9s ease,transform .9s cubic-bezier(.22,1,.36,1);
}
.reveal.active{opacity:1;transform:none}

/* ---------- PHOTOS ---------- */

.bg-photo{background-size:cover;background-position:center}
.photo1{background-image:url('photo1.jpg')}
.photo2{background-image:url('photo2.jpg');background-position:30% center}
.photo3{background-image:url('photo3.jpg')}

.overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.55);
}

/* ---------- BUTTON ---------- */

button{
  margin-top:25px;
  padding:16px 34px;
  border-radius:30px;
  border:none;
  background:linear-gradient(135deg,#fff,#e6f0ff);
  color:#090a0f;
  font-size:1.05rem;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.45);
  transition:transform .15s ease,opacity .15s ease;
}
button:active{transform:scale(.96);opacity:.9}

/* ---------- VIDEO ---------- */

.video-holder{
  margin-top:25px;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
  display:none;
  opacity:0;
  transform:scale(.96);
  transition:.4s ease;
}
.video-holder.show{
  display:block;
  opacity:1;
  transform:scale(1);
}
video{width:100%;background:#000;border-radius:18px}

/* ---------- UI ---------- */

.music-toggle{
  position:fixed;
  left:20px;
  bottom:90px;
  width:44px;
  height:44px;
  border-radius:50%;
  background:rgba(255,255,255,.18);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  z-index:1200;
  cursor:pointer;
}

.to-top{
  position:fixed;
  right:20px;
  bottom:90px;
  width:46px;
  height:46px;
  border-radius:50%;
  background:rgba(255,255,255,.18);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  opacity:0;
  pointer-events:none;
  transition:.3s ease;
  z-index:1200;
}
.to-top.show{opacity:1;pointer-events:auto}
.to-top:active{transform:scale(.92)}

/* ---------- HEEL ---------- */

.heel{
  position:fixed;
  bottom:-40px;
  left:50%;
  transform:translateX(-50%);
  width:70px;
  opacity:0;
  pointer-events:none;
  transition:opacity .3s ease;
  z-index:1000;
  cursor:pointer;
}
.heel.show{opacity:1;pointer-events:auto}

/* ---------- BACKDROP ---------- */

.heel-backdrop{
  position:fixed;
  inset:0;
  background:rgba(5,5,10,0);
  transition:.6s ease;
  pointer-events:none;
  z-index:1500;
}
.heel-backdrop.show{background:rgba(5,5,10,.55)}

/* ---------- JOKE ---------- */

.joke-panel{
  position:fixed;
  inset:0;
  background:rgba(5,5,10,.85);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:.3s ease;
  z-index:2000;
}
.joke-panel.show{opacity:1;pointer-events:auto}

.joke-content{
  width:85%;
  max-width:320px;
  position:relative;
}
.close{
  position:absolute;
  top:-14px;
  right:-14px;
  width:36px;
  height:36px;
  border-radius:50%;
  background:rgba(255,255,255,.2);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
</style>
</head>

<body>

<audio id="bgMusic" loop preload="auto">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="music-toggle" id="musicToggle">üîä</div>

<section>
  <div class="content reveal">
    <h1>‚ú® –° –î–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è</h1>
    <p>–õ–∏—Å—Ç–∞–π –≤–Ω–∏–∑ ‚Äî —Ç–∞–º —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ</p>
  </div>
</section>

<section class="bg-photo photo1">
  <div class="overlay"></div>
  <div class="content reveal">
    <h2>üí´ –ñ–µ–ª–∞—é:</h2>
    <p>–î–µ–≤–æ—á–µ–∫ –∫—Ä–∞—Å–∏–≤—ã—Ö, –¥–µ–Ω–µ–∂–µ–∫ - –∂–∞–ª–∫–∏–µ 4 –ø–∞—á–∫–∏(–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é)</p>
  </div>
</section>

<section class="bg-photo photo2">
  <div class="overlay"></div>
  <div class="content reveal">
    <h2>üöÄ –ù–µ –ø–∞—Ä—å—Å—è –Ω–∞ —Å—á—ë—Ç –¥—Ä—É–∑–µ–π</h2>
    <p>–¢–µ–±–µ –¥—Ä—É–∑–µ–π –∏—Å–∫–∞—Ç—å –Ω–µ –Ω–∞–¥–æ, –∏–±–æ –∫—Ç–æ —Ç–µ–±—è –∑–Ω–∞–µ—Ç - —Å–∞–º —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë –≤–æ–∑–º–æ–∂–Ω–æ–µ, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —Ç–≤–æ–∏–º –¥—Ä—É–≥–æ–º!</p>
  </div>
</section>

<section class="bg-photo photo3">
  <div class="overlay"></div>
  <div class="content reveal">
    <h2>üñ§ –¢–∞–∫–∏—Ö –∫–∞–∫ —Ç—ã - 1 –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å</h2>
    <p>–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å—Å—è - –æ–¥–∏–Ω –Ω–∞ –º–∏–ª–ª–∏–æ–Ω!</p>
  </div>
</section>

<section>
  <div class="content reveal">
    <h2>üé¨ –ò –Ω–∞–ø–æ—Å–ª–µ–¥–æ–∫</h2>
    <p>–ù–∞–∂–º–∏ ‚Äî —ç—Ç–æ –¥–ª—è —Ç–µ–±—è</p>
    <button id="videoBtn">‚ñ∂Ô∏è –°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ</button>

    <div class="video-holder" id="mainVideoHolder">
      <video id="mainVideo" controls playsinline>
        <source src="video.mp4" type="video/mp4">
      </video>
    </div>
  </div>
</section>

<section id="end">
  <div class="content reveal">
    <h2>üé¨ –ö–æ–Ω–µ—Ü</h2>
    <p>–ö–∞–∂–µ—Ç—Å—è, —ç—Ç–æ –≤—Å—ë üôÇ</p>
  </div>
</section>

<div class="to-top" id="toTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</div>

<img src="heel.png" class="heel" id="heel">

<div class="heel-backdrop" id="heelBackdrop"></div>

<div class="joke-panel" id="jokePanel">
  <div class="joke-content">
    <div class="close" id="closeJoke">‚úï</div>
    <video id="jokeVideo" controls playsinline>
      <source src="joke.mp4" type="video/mp4">
    </video>
  </div>
</div>

<script>
/* ---------- SCROLL RESET ---------- */
history.scrollRestoration='manual';
window.addEventListener('pageshow',()=>window.scrollTo(0,0));

/* ---------- REVEAL ---------- */
document.querySelectorAll('.reveal').forEach(el=>{
  new IntersectionObserver(e=>{
    e.forEach(x=>x.target.classList.toggle('active',x.isIntersecting))
  },{threshold:.35}).observe(el);
});

/* ---------- BACK TO TOP ---------- */
const toTop=document.getElementById('toTop');
window.addEventListener('scroll',()=>toTop.classList.toggle('show',window.scrollY>400));

/* ---------- MUSIC ---------- */
const music=document.getElementById('bgMusic');
const toggle=document.getElementById('musicToggle');
let musicStarted=false;

function startMusic(){
  if(musicStarted) return;
  music.volume=0.2;
  music.play().catch(()=>{});
  musicStarted=true;
}
window.addEventListener('touchstart',startMusic,{once:true});
window.addEventListener('scroll',startMusic,{once:true});

toggle.onclick=()=>{
  if(music.paused){music.play();toggle.textContent='üîä'}
  else{music.pause();toggle.textContent='üîá'}
};

function fadeOutMusic(cb){
  let v=music.volume;
  const i=setInterval(()=>{
    v-=0.02;
    if(v<=0){
      clearInterval(i);
      music.pause();
      music.volume=0.2;
      cb&&cb();
    } else music.volume=v;
  },40);
}

/* ---------- MAIN VIDEO ---------- */
document.getElementById('videoBtn').onclick=()=>{
  fadeOutMusic(()=>{
    const btn=document.getElementById('videoBtn');
    const holder=document.getElementById('mainVideoHolder');
    const video=document.getElementById('mainVideo');
    btn.style.display='none';
    holder.classList.add('show');
    video.play();
  });
};

/* ---------- HEEL LOGIC (FIXED) ---------- */
const heel=document.getElementById('heel');
const end=document.getElementById('end');
const backdrop=document.getElementById('heelBackdrop');

new IntersectionObserver(e=>{
  heel.classList.toggle('show',e[0].isIntersecting)
},{threshold:.6}).observe(end);

heel.onclick=()=>{
  /* –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –ü–ï–†–ï–°–û–ó–î–ê–Å–ú –ê–ù–ò–ú–ê–¶–ò–Æ */
  heel.style.animation='none';
  heel.offsetHeight; // reflow
  heel.style.animation='heelJump .8s cubic-bezier(.22,1,.36,1) forwards';

  backdrop.classList.add('show');

  fadeOutMusic(()=>{
    document.getElementById('jokePanel').classList.add('show');
    document.getElementById('jokeVideo').play();
  });
};

/* inline keyframes (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫) */
const style=document.createElement('style');
style.textContent=`
@keyframes heelJump{
  0%{transform:translateX(-50%) scale(1)}
  60%{transform:translateX(-50%) translateY(-120px) scale(3)}
  100%{transform:translateX(-50%) translateY(-160px) scale(4)}
}`;
document.head.appendChild(style);

/* ---------- CLOSE JOKE ---------- */
document.getElementById('closeJoke').onclick=()=>{
  const v=document.getElementById('jokeVideo');
  v.pause();v.currentTime=0;
  document.getElementById('jokePanel').classList.remove('show');
  backdrop.classList.remove('show');
};
</script>

</body>
</html>
